(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),e.addEventListener("click",n),document.addEventListener("keydown",r)}function t(e){e.classList.remove("popup_is-opened"),e.removeEventListener("click",n),document.removeEventListener("keydown",r)}function n(e){(e.target.classList.contains("popup_is-opened")||e.target.classList.contains("popup__close"))&&t(e.currentTarget)}function r(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}var o=document.querySelector("#card-template").content;function c(e){var t=e.querySelector(".card__delete-button");t.addEventListener("click",(function(){t.closest(".places__item").remove()}))}function a(e){var t=e.querySelector(".card__like-button");t.addEventListener("click",(function(){t.classList.toggle("card__like-button_is-active")}))}var i=document.querySelector(".places__list"),d=document.querySelector(".profile__edit-button"),l=document.querySelector(".profile__add-button"),s=document.querySelector(".popup_type_edit"),p=document.querySelector(".popup_type_new-card"),u=document.forms.edit_profile,m=document.forms["new-place"],v=u.name,_=u.description,f=document.querySelector(".profile__title"),y=document.querySelector(".profile__description"),k=document.querySelector(".popup_type_image"),g=k.querySelector(".popup__image"),q=k.querySelector(".popup__caption");function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend",n=function(e){var t=o.querySelector(".card").cloneNode(!0),n=t.querySelector(".card__image");return n.src=e.cardInformation.link,n.alt=e.cardInformation.name,t.querySelector(".card__title").textContent=e.cardInformation.name,e.cardDeleteHandler(t),e.imageClickHandler(n),e.likeButtonHandler(t),t}({cardInformation:e,cardDeleteHandler:c,imageClickHandler:L,likeButtonHandler:a});i[t](n)}function L(t){t.addEventListener("click",(function(){g.src=t.src,g.alt=t.alt,q.textContent=t.alt,e(k)}))}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){S(e,"append")})),d.addEventListener("click",(function(){e(s),u.elements.name.value=f.textContent,u.elements.description.value=y.textContent})),l.addEventListener("click",(function(){e(p)})),u.addEventListener("submit",(function(e){e.preventDefault();var n=v.value,r=_.value;f.textContent=n,y.textContent=r,t(s)})),m.addEventListener("submit",(function(e){e.preventDefault(),S({name:m["place-name"].value,link:m.link.value}),m.reset(),t(p)}))})();